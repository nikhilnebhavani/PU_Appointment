(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{52928:function(e,t,a){Promise.resolve().then(a.bind(a,87248))},87248:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var s=a(57437),n=a(33145),d=a(22410),l=a.n(d),c=a(27624),i=a.n(c),r=a(99649),o=a(63497);function _(e,t){let a=(0,r.Q)(e);if(isNaN(t))return(0,o.L)(e,NaN);if(!t)return a;let s=a.getDate(),n=(0,o.L)(e,a.getTime());return(n.setMonth(a.getMonth()+t+1,0),s>=n.getDate())?n:(a.setFullYear(n.getFullYear(),n.getMonth(),s),a)}var p=a(13180),u=a(65696),h=a(55528),m=a(56942);function x(e,t){return+(0,m.b)(e)==+(0,m.b)(t)}var j=a(59121),v=a(2265),b=a(16512);a(71849);var y=a(99376),f=a(64131);function N(){let e=(0,y.useRouter)(),[t,a]=(0,v.useState)(new Date),[d,c]=(0,v.useState)(-1),[o,m]=(0,v.useState)(-1),[N,g]=(0,v.useState)([]),[k,C]=(0,v.useState)(),M=t=>{e.push("/mymeeting/?".concat(t))},[w,D]=(0,v.useState)(!1),[S,F]=(0,v.useState)(!1),[U,E]=(0,v.useState)(!1),[H,Y]=(0,v.useState)({}),[O,T]=(0,v.useState)(!1),[W,Z]=(0,v.useState)(10),[J,P]=(0,v.useState)(2024),R=(0,v.useRef)(null),A=(0,v.useRef)(null);(0,v.useEffect)(()=>{function e(e){R.current&&!R.current.contains(e.target)&&(D(!1),F(!1)),A.current&&!A.current.contains(e.target)&&c(-1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,v.useEffect)(()=>{let e=f.Z.get("token");(async()=>{if(null!=e)try{let t=await fetch("".concat("https://appointment.paruluniversity.ac.in/back","/meetings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});if(200!=t.status)throw Error("HTTP error! Status: ".concat(t.status));let a=await t.json();g(a.meetings),C(a.email)}catch(e){alert(e)}})()},[]);let Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],V=Array.from({length:12},(e,a)=>t.getFullYear()-5+a),B=()=>{D(!0),F(!1)},K=e=>{let t=new Date(o);Z(Q.indexOf(e)),t.setMonth(Q.indexOf(e)),t.setFullYear(J),a(t),D(!1)},L=e=>{let t=new Date(o);P(e),t.setFullYear(e),t.setMonth(W),a(t),F(!1)};return(0,s.jsxs)("main",{className:l().main,children:[(0,s.jsx)(b.Z,{}),(0,s.jsxs)("div",{className:l().main_box,children:[(0,s.jsxs)("div",{className:l().yearmonth,children:[(0,s.jsx)("button",{onClick:()=>{a(_(t,-1))},children:"<"}),(0,s.jsx)("div",{className:l().month,children:(0,s.jsxs)("button",{onClick:B,children:[" ",(0,s.jsx)("h2",{children:(0,p.WU)(t,"MMMM , yyyy")})," "]})}),(0,s.jsx)("button",{onClick:()=>{a(_(t,1))},children:">"})]}),w&&(0,s.jsxs)("div",{ref:R,className:l().popUp,children:[(0,s.jsx)("div",{className:l().popHeader,onClick:()=>{F(!0),D(!1)},children:t.getFullYear()}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{className:l().popContent,children:Q.map((e,t)=>(0,s.jsx)("div",{onClick:()=>K(e),children:e},t))})]}),S&&(0,s.jsxs)("div",{ref:R,className:l().popUp,children:[(0,s.jsx)("div",{className:l().popHeader,onClick:B,children:(0,p.WU)(t,"MMMM")}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{className:l().popContent,children:V.map((e,t)=>(0,s.jsx)("div",{onClick:()=>L(e),children:e},t))})]}),(0,s.jsx)("div",{className:l().container,children:(0,s.jsxs)("div",{className:l().date,children:[(0,s.jsx)("div",{className:l().day,children:(0,s.jsx)("div",{children:"Sun"})}),(0,s.jsx)("div",{className:l().day,children:(0,s.jsx)("div",{children:"Mon"})}),(0,s.jsx)("div",{className:l().day,children:(0,s.jsx)("div",{children:"Tue"})}),(0,s.jsx)("div",{className:l().day,children:(0,s.jsx)("div",{children:"Wed"})}),(0,s.jsx)("div",{className:l().day,children:(0,s.jsx)("div",{children:"Thu"})}),(0,s.jsx)("div",{className:l().day,children:(0,s.jsx)("div",{children:"Fri"})}),(0,s.jsx)("div",{className:l().day,children:(0,s.jsx)("div",{children:"Sat"})}),(()=>{let e=function(e){let t=(0,r.Q)(e);return t.setDate(1),t.setHours(0,0,0,0),t}(t),a=function(e){let t=(0,r.Q)(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}(e),n=(0,u.z)(e),c=function(e,t){var a,s,n,d,l;let c=(0,h.j)(),i=null!==(l=null!==(d=(n=void 0,c.weekStartsOn))&&void 0!==d?d:null===(s=c.locale)||void 0===s?void 0:null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==l?l:0,o=(0,r.Q)(e),_=o.getDay();return o.setDate(o.getDate()+((_<i?-7:0)+6-(_-i))),o.setHours(23,59,59,999),o}(a),i=[],_=n;for(;_<=c;)for(let t=0;t<7;t++){let t=l().dateofcal;l().dropnone,l().dropbutton,function(e,t){let a=(0,r.Q)(e),s=(0,r.Q)(t);return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()}(_,e)?x(_,new Date)?(x(_,o),t=l().today):x(_,o)&&(t=l().selectdate):t=l().disabled,d==_&&(l().dropitem,l().dropnone),i.push((0,s.jsxs)("div",{className:l().cal,children:[(0,s.jsx)("div",{className:l().normal,children:(0,s.jsx)("div",{className:t,id:_,onClick:()=>{m((0,p.WU)(event.target.id,"yyyy-MM-dd"))},children:(0,p.WU)(_,"d")})}),N.map((e,t)=>{if(e.date==(0,p.WU)(_,"yyyy-MM-dd"))return(0,s.jsxs)("div",{className:l().submeeting,onClick:()=>{E(!0),Y(e)},style:"Cancelled"==e.status?{background:"red"}:"Pending"==e.status?{background:"yellow"}:{},children:[(0,s.jsx)("div",{className:l().smtime,style:"Cancelled"==e.status?{color:"white"}:{},children:e.time}),(0,s.jsx)("div",{className:l().smline,style:"Cancelled"==e.status?{color:"white"}:{},children:" : "}),(0,s.jsx)("div",{className:l().smname,style:"Cancelled"==e.status?{color:"white"}:{},children:k==e.booked_by?e.booked_to_name:e.booked_by_name})]},t)})]},_)),_=(0,j.E)(_,1)}return i})()]})})]}),(0,s.jsx)("div",{className:l().formobile,children:N.map((e,t)=>{if(o==e.date)return(0,s.jsxs)("div",{className:l().schedule,children:[(0,s.jsxs)("div",{className:l().sch_left,children:[(0,s.jsx)("h2",{children:e.service_name}),(0,s.jsxs)("div",{className:l().dt_time,children:[(0,s.jsx)("p",{children:e.date}),(0,s.jsx)("li",{children:e.time})]}),(0,s.jsx)("li",{children:e.duration})]}),(0,s.jsx)("div",{className:l().sch_right,children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{className:l().imp,style:"Upcoming"==e.status?{color:"blue"}:"Pending"==e.status?{color:"black"}:{},children:e.status})})})]},t)})}),U&&(0,s.jsx)("main",{className:i().main,children:(0,s.jsxs)("div",{className:i().popup,children:[(0,s.jsx)("div",{className:i().close,children:(0,s.jsx)("button",{id:"close",onClick:()=>{E(!1)},children:(0,s.jsx)(n.default,{width:1e3,height:1e3,src:"/close.png",alt:"close"})})}),(0,s.jsxs)("div",{className:i().head,children:[(0,s.jsx)("h2",{children:k==H.booked_by?H.booked_to_name:H.booked_by_name}),(0,s.jsx)("h2",{children:k==H.booked_by?H.booked_to:H.booked_by}),(0,s.jsx)("h2",{children:k==H.booked_by?H.booked_to_phone:H.booked_by_phone}),(0,s.jsx)("p",{children:H.duration}),(0,s.jsx)("p",{children:H.time})]}),(0,s.jsxs)("div",{className:i().middel,children:[(0,s.jsx)("h3",{children:"Status"}),(0,s.jsx)("p",{children:H.status})]}),(0,s.jsx)("div",{className:i().more,children:(0,s.jsx)("button",{onClick:()=>{E(!1),M(H._id)},children:"View Details"})})]})})]})}},22410:function(e){e.exports={main:"calendar_main__VdfcX",yearmonth:"calendar_yearmonth__B_7CP",month:"calendar_month__fQhUz",container:"calendar_container__k_nTj",date:"calendar_date__Z4znd",day:"calendar_day__Dm1e4",cal:"calendar_cal__pBuVu",disabled:"calendar_disabled__8D7SI",normal:"calendar_normal__ZZWGm",today:"calendar_today__HvWdk",selectdate:"calendar_selectdate__lP2sx",dropbutton:"calendar_dropbutton__CtXgj",submeeting:"calendar_submeeting__IZDLT",dateofcal:"calendar_dateofcal__hWGvN",c:"calendar_c__vJdjR",todayselect:"calendar_todayselect__LJyc7",main_box:"calendar_main_box__tR1t5",smname:"calendar_smname__EtCed",datebutton:"calendar_datebutton__RfwPm",addnew:"calendar_addnew__UwHtA",dropnone:"calendar_dropnone__bYp8a",formobile:"calendar_formobile__adtjq",dropitem:"calendar_dropitem__wy2TD",schedule:"calendar_schedule__sZMHe",sch_left:"calendar_sch_left__OVj0q",dt_time:"calendar_dt_time__B7cxk",sch_right:"calendar_sch_right__qvFDl",imp:"calendar_imp__1U3rv",status:"calendar_status__Devlb",resch:"calendar_resch__b_hge",popContent:"calendar_popContent__5NKM6",popUp:"calendar_popUp__DnME_",popHeader:"calendar_popHeader__P3rFR"}},27624:function(e){e.exports={main:"pop_main__Tn6yd",popup:"pop_popup__v1Ntp",close:"pop_close__C3FBB",head:"pop_head__i_HD_",dt:"pop_dt__HSz6z",dm:"pop_dm__padGo",more:"pop_more__oqpjF",middel:"pop_middel__T9tM8",cir:"pop_cir__8xsfb",he:"pop_he__02uqD",date:"pop_date__B8pWJ",time:"pop_time__GcWUA",detail:"pop_detail__jRyWE",det:"pop_det__if8b6"}},71849:function(e){e.exports={main:"secpop_main__yoZY_",popup:"secpop_popup__guaOx",close:"secpop_close__9V4uK",head:"secpop_head__tFhvA",cir:"secpop_cir__N2Kwo",he:"secpop_he__K1xv7",dt:"secpop_dt__YAUDk",dm:"secpop_dm__8xU_j",date:"secpop_date__If7KK",time:"secpop_time__I8vfZ",detail:"secpop_detail__58VZM",det:"secpop_det__EDNeO",more:"secpop_more__bC_RJ",middel:"secpop_middel__xEV3v",droplist:"secpop_droplist__b6J6C"}}},function(e){e.O(0,[176,611,605,878,652,132,512,971,117,744],function(){return e(e.s=52928)}),_N_E=e.O()}]);