(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{46292:function(e,s,t){Promise.resolve().then(t.bind(t,50434))},50434:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var a=t(57437),n=t(33145),l=t(76777),i=t.n(l),c=t(16512);t(80605);var d=t(64131),o=t(99376),r=t(2265),h=t(85994),p=t.n(h);t(21005);var m=t(88963),u=t.n(m),_=t(59121),j=t(13180);let x=t(77398),g=()=>{let e=x(),s=e.clone().startOf("isoWeek"),t=e.clone().endOf("isoWeek"),a=[],n=s;for(;n<=t;){let e={date:n.format("YYYY-MM-DD"),day:n.format("dddd"),meetings:0};a.push(e),n=n.clone().add(1,"day")}return a};function b(e){if(!e)return"";{let[s,t]=e.split(":").map(Number),a="";return s>0&&(a+="".concat(s," hr").concat(s>1?"s":"")),t>0&&(a.length>0&&(a+=" "),a+="".concat(t," min")),a||(a="0 min"),a}}function f(e,s){if(!e||!s)return"";{let[t,a]=e.split(":").map(Number),[n,l]=s.split(":").map(Number),i=a+l,c=Math.floor(i/60);i%=60;let d=t+n+c,o=(d%=24).toString().padStart(2,"0"),r=i.toString().padStart(2,"0");return"".concat(e," to ").concat(o,":").concat(r)}}function v(){let e="https://appointment.paruluniversity.ac.in/back",s=(0,o.useRouter)(),[t,l]=(0,r.useState)(""),[h,m]=(0,r.useState)([]),[v,k]=(0,r.useState)([]),[N,y]=(0,r.useState)([]),[w,S]=(0,r.useState)([]),[C,T]=(0,r.useState)([]),[P,D]=(0,r.useState)([]),[H,O]=(0,r.useState)([]),[U,M]=(0,r.useState)([]),[E,R]=(0,r.useState)(""),[A,W]=(0,r.useState)(""),[Y,F]=(0,r.useState)({}),[I,z]=(0,r.useState)([]),[q,J]=(0,r.useState)(!1),[Z,V]=(0,r.useState)(!1),[X,B]=(0,r.useState)(!1),[Q,G]=(0,r.useState)({duration:"",pre_buffer:"",post_buffer:""}),L=new Date,K=(0,_.E)(L,1),$=(0,_.E)(L,2),[ee,es]=(0,r.useState)(),[et,ea]=(0,r.useState)(),[en,el]=(0,r.useState)("User"),[ei,ec]=(0,r.useState)([]),[ed,eo]=(0,r.useState)(""),[er,eh]=(0,r.useState)(new Date(L.getFullYear(),L.getMonth(),L.getDate(),9,0)),[ep,em]=(0,r.useState)([new Date(L.getFullYear(),L.getMonth(),L.getDate(),9,0),new Date(L.getFullYear(),L.getMonth(),L.getDate(),12,0),new Date(L.getFullYear(),L.getMonth(),L.getDate(),15,0)]),[eu,e_]=(0,r.useState)(()=>L.toISOString().split("T")[0]),[ej,ex]=(0,r.useState)([new Date]),[eg,eb]=(0,r.useState)({dropdown1:!0,dropdown2:!1,dropdown3:!1,dropdown4:!1}),[ef,ev]=(0,r.useState)([]),[ek,eN]=(0,r.useState)([]),[ey,ew]=(0,r.useState)([]),[eS,eC]=(0,r.useState)(0),[eT,eP]=(0,r.useState)(0),eD=x();eD=eD.add(2,"hours");let eH=e=>{s.push("/mymeeting/?".concat(e))},eO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(e)){console.error("Invalid input: meetings should be an array.");return}let t=function(){let e=new Date,s=e.getFullYear(),t=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return"".concat(s,"-").concat(t,"-").concat(a)}(),a=(0,j.WU)(K,"yyyy-MM-dd"),n=(0,j.WU)($,"yyyy-MM-dd"),l=[],i=[],c=[],d=[],o=[],r=[],h=[];e.forEach(e=>{"Pending"===e.status?l.push(e):"Cancelled"===e.status?c.push(e):"Upcoming"===e.status&&o.push(e);let p=e.date.split("T")[0];p===t&&d.push(e),p==a&&r.push(e),p==n&&h.push(e),e.booked_by===s&&i.push(e),I.map(s=>{e.date===s.date&&("Pending"==e.status||"Upcoming"==e.status)&&(s.meetings=s.meetings+1)})}),m(l),k(i),y(c),S(d),M(o),T(r),D(h)};(0,r.useEffect)(()=>{let t=d.Z.get("token");l(t),void 0==t&&s.push("/login");let a=async()=>{if(null!=t)try{let s=await fetch("".concat(e,"/meetings"),{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"public, max-age=60"},body:JSON.stringify({token:t})});if(200!=s.status)throw Error("HTTP error! Status: ".concat(s.status));let a=await s.json();es(a.meetings),ea(a.email),R(a.email),z(g()),ev(a.slots),eN(a.slots2),ew(a.slots3),el(a.name),O(a.my_slots)}catch(e){alert(e)}};a();let n=setInterval(()=>{a()},6e4);return()=>clearInterval(n)},[]),(0,r.useEffect)(()=>{eO(ee,et)},[I]);let eU=async s=>{try{let t=await fetch("".concat(e,"/approve_meeting"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({meeting:s,email:E})});if(200!=t.status)throw Error("HTTP error! Status: ".concat(t.status));let a=await t.json();a&&(a.approval?(eM(s),alert("Your Meeting Scheduled Successfully."),window.location.reload()):alert("sorry ! there are no free slots for this meeting in ".concat(a.name," schedule ")))}catch(e){alert(e)}},eM=async s=>{let t={email_type:"approve",user_email:E,date:s.date,time:s.time,booked_by:{email:s.booked_by,name:s.booked_by_name,phone:s.booked_by_phone},detail:s.detail,new_time:ed,new_date:eu,approval:s.approval};try{let s=await fetch("".concat(e,"/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(200===s.status);else{let e=await s.json();console.log(e)}}catch(e){alert(e)}},eE=async s=>{try{let t=await fetch("".concat(e,"/cancel_meeting"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({meeting:s,email:E,reason:A})});if(200!=t.status)throw Error("HTTP error! Status: ".concat(t.status));await t.json()&&("Pending"==s.status?eA(s,A):eR(s,A),window.location.reload())}catch(e){alert(e)}},eR=async(s,t)=>{let a={email_type:"cancel",user_email:E,date:s.date,time:s.time,booked_by:{email:s.booked_by,name:s.booked_by_name,phone:s.booked_by_phone},detail:s.detail,reason:t,approval:s.approval};try{let s=await fetch("".concat(e,"/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(200===s.status);else{let e=await s.json();alert(e.error)}}catch(e){alert(e)}},eA=async(s,t)=>{let a={email_type:"reject",user_email:E,date:s.date,time:s.time,booked_by:{email:s.booked_by,name:s.booked_by_name,phone:s.booked_by_phone},detail:s.detail,reason:t,approval:s.approval};try{let s=await fetch("".concat(e,"/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(200===s.status);else{let e=await s.json();alert(e.error)}}catch(e){alert(e)}};(0,r.useEffect)(()=>{ex(ei.map(e=>new Date(e.date)))},[ei]),(0,r.useEffect)(()=>{em(function(e,s,t,a,n){let l=e.find(e=>e.date===s);if(!l)return[];let i=function(e){if(!e||0===e.length)return[];e.sort((e,s)=>x(e.start,"HH:mm").diff(x(s.start,"HH:mm")));let s=[e[0]];for(let t=1;t<e.length;t++){let a=s[s.length-1],n=e[t];x(a.end,"HH:mm").isSameOrAfter(x(n.start,"HH:mm"))?a.end=x.max(x(a.end,"HH:mm"),x(n.end,"HH:mm")).format("HH:mm"):s.push(n)}return s}(l.freeSlots),c=[],d=x.duration(t).asMinutes(),o=x.duration(a).asMinutes(),r=d+o+x.duration(void 0).asMinutes();return console.log(r),i.forEach(e=>{let s=x(e.start,"HH:mm"),t=x(e.end,"HH:mm");for(;s.clone().add(r,"minutes").isSameOrBefore(t);){console.log(s.clone().add(r,"minutes").isSameOrBefore(t));let e=s.clone().add(o,"minutes");c.push(e.toDate()),s.add(15,"minutes")}}),c}(ei,eu,Q.duration,"00:15"))},[eu,ei]),(0,r.useEffect)(()=>{eh(ep[0]),eo(ep[0]?x(ep[0]).format("HH:mm"):"")},[ep]);let eW=async()=>{try{let s=await fetch("".concat(e,"/rescheduleDateTime"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:et})});if(200!=s.status)throw Error("HTTP error! Status: ".concat(s.status));let t=await s.json();t&&ec(t.datesAndtimes)}catch(e){alert(e)}},eY=async()=>{try{let s=await fetch("".concat(e,"/reschedule_meeting"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({meeting:Q,date:eu,time:ed,email:et})});if(200===s.status)eF(),window.location.reload();else{let e=await s.json();alert(e.error)}}catch(e){alert(e)}},eF=async()=>{let s={email_type:"reschedule",user_email:E,date:Q.date,time:Q.time,booked_by:{email:Q.booked_by,name:Q.booked_by_name,phone:Q.booked_by_phone},detail:Q.detail,new_time:ed,new_date:eu,approval:Q.approval};try{let t=await fetch("".concat(e,"/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(200===t.status);else{let e=await t.json();console.log(e)}}catch(e){alert(e)}};return(0,a.jsx)("main",{className:i().main,children:(0,a.jsxs)("div",{className:i().scroll,children:[(0,a.jsx)(c.Z,{}),(0,a.jsxs)("div",{className:i().userline,children:[(0,a.jsxs)("p",{className:i().user_name,children:["Hello ",en,", "]}),(0,a.jsxs)("p",{className:i().today_date,children:["It's ",(0,j.WU)(L,"EEEE, dd MMM")]}),(0,a.jsxs)("p",{className:i().user_meeting,children:[" ","Today, You Have"," ",w.filter(e=>"Upcoming"===e.status).length," ","Upcoming Confirmed Appointments"]})]}),(0,a.jsxs)("div",{className:i().mainsec,children:[(0,a.jsxs)("div",{className:i().sch,children:[(0,a.jsxs)("div",{className:i().buttons,children:[(0,a.jsx)("button",{className:0==eS?i().active_button:"",onClick:()=>{eC(0)},children:"Today"}),(0,a.jsx)("button",{className:1==eS?i().active_button:"",onClick:()=>{eC(1)},children:"Tommorrow"}),(0,a.jsx)("button",{className:2==eS?i().active_button:"",onClick:()=>{eC(2)},children:(0,j.WU)($,"dd MMM")}),(0,a.jsxs)("button",{className:3==eS?i().active_button:"",onClick:()=>{eC(3)},children:[(0,a.jsx)(n.default,{src:"/calender.svg",width:100,height:100,alt:""}),"This Week"]})]}),(0,a.jsx)("div",{className:i().line2}),(0,a.jsxs)("div",{className:i().boxes,children:[0==eS&&0==w.length&&0==ef.length&&(0,a.jsx)("p",{className:i().feedback,children:"No slots !"}),1==eS&&0==C.length&&0==ek.length&&(0,a.jsx)("p",{className:i().feedback,children:"No slots !"}),2==eS&&0==P.length&&0==ey.length&&(0,a.jsx)("p",{className:i().feedback,children:"No slots !"}),0==eS&&ef.map((e,s)=>(0,a.jsxs)("div",{className:i().freeSlots,children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),(0,a.jsxs)("p",{children:["From : ",e.start," : To : ",e.end]})]},s)),1==eS&&ek.map((e,s)=>(0,a.jsxs)("div",{className:i().freeSlots,children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),(0,a.jsxs)("p",{children:["From : ",e.start," : To : ",e.end]})]},s)),2==eS&&ey.map((e,s)=>(0,a.jsxs)("div",{className:i().freeSlots,children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),(0,a.jsxs)("p",{children:["From : ",e.start," : To : ",e.end]})]},s)),0==eS&&w.map(e=>{let s=!1;e.booked_by==E&&(s=!0);let t=x(e.time,"HH:mm");if("Upcoming"==e.status||"Pending"==e.status&&t.isSameOrAfter(eD)||"Running"==e.status){let l=!1;return"Pending"==e.status&&e.approval.map(e=>{e.email==E&&!0!=e.approval&&(l=!0)}),(0,a.jsxs)("div",{className:i().schedule,children:[(0,a.jsxs)("div",{className:i().sch_up,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{style:{textTransform:"capitalize"},children:[(0,a.jsx)(n.default,{src:"/person.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_name:e.booked_by_name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/email.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to:e.booked_by})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/phone.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_phone:e.booked_by_phone})]}),(0,a.jsxs)("p",{className:i().status,children:[(0,a.jsx)(n.default,{src:"/status.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.status})]})]}),(0,a.jsxs)("div",{className:i().dt_time,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/calender2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.date})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/clock2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:f(e.time,e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:b(e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/mode.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.mode})]})]})]}),(0,a.jsxs)("div",{className:i().sch_right,children:[(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{eH(e._id)},children:"View"}),"Pending"==e.status&&l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:i().rejectbtn,onClick:()=>{V(!0),F(e)},children:"Reject"}),(0,a.jsx)("button",{className:i().approvebtn,onClick:()=>{eU(e)},children:"Approve"})]}),"Pending"==e.status&&!l&&(0,a.jsx)("button",{className:i().cancelbtn,onClick:()=>{V(!0),F(e)},children:"Cancel Request"}),"Upcoming"==e.status&&t.isSameOrAfter(eD)&&(0,a.jsx)("button",{className:i().cancelbtn,onClick:()=>{V(!0),F(e)},children:"Cancel"}),t.isSameOrAfter(eD)&&(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{B(!0),G(e),eW()},children:"Reschedule"})]})]},e._id)}}),1==eS&&C.map(e=>{let s=!1;if(e.booked_by==E&&(s=!0),"Upcoming"==e.status||"Pending"==e.status){let t=!1;return"Pending"==e.status&&e.approval.map(e=>{e.email==E&&!0!=e.approval&&(t=!0)}),(0,a.jsxs)("div",{className:i().schedule,children:[(0,a.jsxs)("div",{className:i().sch_up,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{style:{textTransform:"capitalize"},children:[(0,a.jsx)(n.default,{src:"/person.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_name:e.booked_by_name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/email.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to:e.booked_by})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/phone.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_phone:e.booked_by_phone})]}),(0,a.jsxs)("p",{className:"Upcoming"==e.status?i().status:i().resch,children:[(0,a.jsx)(n.default,{src:"/status.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.status})]})]}),(0,a.jsxs)("div",{className:i().dt_time,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/calender2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.date})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/clock2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:f(e.time,e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:b(e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/mode.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.mode})]})]})]}),(0,a.jsxs)("div",{className:i().sch_right,children:[(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{eH(e._id)},children:"View"}),"Pending"==e.status&&t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:i().rejectbtn,onClick:()=>{V(!0),F(e)},children:"Reject"}),(0,a.jsx)("button",{className:i().approvebtn,onClick:()=>{eU(e)},children:"Approve"})]}),"Pending"==e.status&&!t&&(0,a.jsx)("button",{className:i().cancelbtn,onClick:()=>{V(!0),F(e)},children:"Cancel Request"}),"Upcoming"==e.status&&(0,a.jsx)("button",{className:i().cancelbtn,onClick:()=>{V(!0),F(e)},children:"Cancel"}),(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{B(!0),G(e),eW()},children:"Reschedule"})]})]},e._id)}}),2==eS&&P.map(e=>{let s=!1;if(e.booked_by==E&&(s=!0),"Upcoming"==e.status||"Pending"==e.status){let t=!1;return"Pending"==e.status&&e.approval.map(e=>{e.email==E&&!0!=e.approval&&(t=!0)}),(0,a.jsxs)("div",{className:i().schedule,children:[(0,a.jsxs)("div",{className:i().sch_up,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{style:{textTransform:"capitalize"},children:[(0,a.jsx)(n.default,{src:"/person.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_name:e.booked_by_name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/email.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to:e.booked_by})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/phone.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_phone:e.booked_by_phone})]}),(0,a.jsxs)("p",{className:"Upcoming"==e.status?i().status:i().resch,children:[(0,a.jsx)(n.default,{src:"/status.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.status})]})]}),(0,a.jsxs)("div",{className:i().dt_time,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/calender2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.date})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/clock2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:f(e.time,e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:b(e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/mode.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.mode})]})]})]}),(0,a.jsxs)("div",{className:i().sch_right,children:[(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{eH(e._id)},children:"View"}),"Pending"==e.status&&t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:i().rejectbtn,onClick:()=>{V(!0),F(e)},children:"Reject"}),(0,a.jsx)("button",{className:i().approvebtn,onClick:()=>{eU(e)},children:"Approve"})]}),"Pending"==e.status&&!t&&(0,a.jsx)("button",{className:i().cancelbtn,onClick:()=>{V(!0),F(e)},children:"Cancel Request"}),"Upcoming"==e.status&&(0,a.jsx)("button",{className:i().cancelbtn,onClick:()=>{V(!0),F(e)},children:"Cancel"}),(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{B(!0),G(e),eW()},children:"Reschedule"})]})]},e._id)}}),3==eS&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:i().selectdate,children:(0,a.jsxs)("div",{className:i().date,children:[(0,a.jsx)("div",{className:i().topdate,children:(0,a.jsx)("p",{children:0!=I.length?"".concat(I[0].date," to ").concat(I[6].date):"No Data"})}),(0,a.jsx)("div",{className:i().meetshow,children:I.map((e,s)=>(0,a.jsxs)("div",{className:i().meetingdateselect,children:[(0,a.jsx)("p",{children:e.date}),(0,a.jsx)("div",{className:i().meetingnum,children:(0,a.jsx)("h2",{children:e.meetings})}),(0,a.jsx)("p",{children:e.day})]},s))})]})})})]})]}),(0,a.jsxs)("div",{className:i().sch,children:[(0,a.jsxs)("div",{className:i().buttons,children:[(0,a.jsx)("button",{className:0==eT?i().active_button:"",onClick:()=>{eP(0)},children:"Pending"}),(0,a.jsx)("button",{className:1==eT?i().active_button:"",onClick:()=>{eP(1)},children:"My Requested"}),(0,a.jsx)("button",{className:3==eT?i().active_button:"",onClick:()=>{eP(3)},children:"Cancelled"})]}),(0,a.jsx)("div",{className:i().line2}),(0,a.jsxs)("div",{className:i().boxes,children:[0==eT&&0==h.length&&(0,a.jsx)("p",{className:i().feedback,children:"No slots !"}),1==eT&&0==v.length&&(0,a.jsx)("p",{className:i().feedback,children:"No slots !"}),3==eT&&0==N.length&&(0,a.jsx)("p",{className:i().feedback,children:"No slots !"}),0==eT&&h.map(e=>{let s=!1;e.booked_by==E&&(s=!0);let t=!1;if("Pending"==e.status&&(e.approval.map(e=>{e.email==E&&!0!=e.approval&&(t=!0)}),t))return(0,a.jsxs)("div",{className:i().schedule,children:[(0,a.jsxs)("div",{className:i().sch_up,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{style:{textTransform:"capitalize"},children:[(0,a.jsx)(n.default,{src:"/person.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_name:e.booked_by_name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/email.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to:e.booked_by})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/phone.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_phone:e.booked_by_phone})]}),(0,a.jsxs)("p",{className:"Upcoming"==e.status?i().status:i().resch,children:[(0,a.jsx)(n.default,{src:"/status.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.status})]})]}),(0,a.jsxs)("div",{className:i().dt_time,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/calender2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.date})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/clock2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:f(e.time,e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:b(e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/mode.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.mode})]})]})]}),(0,a.jsxs)("div",{className:i().sch_right,children:[(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{eH(e._id)},children:"View"}),(0,a.jsx)("button",{className:i().rejectbtn,onClick:()=>{V(!0),F(e)},children:"Reject"}),(0,a.jsx)("button",{className:i().approvebtn,onClick:()=>{eU(e)},children:"Approve"}),(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{B(!0),G(e),eW()},children:"Reschedule"})]})]},e._id)}),1==eT&&v.map(e=>{let s=!1;if(e.booked_by==E&&(s=!0),"Upcoming"==e.status||"Pending"==e.status){let t=!1;if("Pending"==e.status&&e.approval.map(e=>{e.email==E&&!0==e.approval&&(t=!0)}),t)return(0,a.jsxs)("div",{className:i().schedule,children:[(0,a.jsxs)("div",{className:i().sch_up,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{style:{textTransform:"capitalize"},children:[(0,a.jsx)(n.default,{src:"/person.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_name:e.booked_by_name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/email.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to:e.booked_by})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/phone.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_phone:e.booked_by_phone})]}),(0,a.jsxs)("p",{className:"Upcoming"==e.status?i().status:i().resch,children:[(0,a.jsx)(n.default,{src:"/status.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.status})]})]}),(0,a.jsxs)("div",{className:i().dt_time,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/calender2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.date})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/clock2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:f(e.time,e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:b(e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/mode.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.mode})]})]})]}),(0,a.jsxs)("div",{className:i().sch_right,children:[(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{eH(e._id)},children:"View"}),(0,a.jsx)("button",{className:i().cancelbtn,onClick:()=>{V(!0),F(e)},children:"Pending"==e.status?"Cancel Request":"Cancel"}),(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{B(!0),G(e),eW()},children:"Reschedule"})]})]},e._id)}}),3==eT&&N.map(e=>{let s=!1;if(e.booked_by==E&&(s=!0),"Cancelled"==e.status)return"Pending"==e.status&&e.approval.map(e=>{e.email==E&&e.approval}),(0,a.jsxs)("div",{className:i().schedule,children:[(0,a.jsxs)("div",{className:i().sch_up,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{style:{textTransform:"capitalize"},children:[(0,a.jsx)(n.default,{src:"/person.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_name:e.booked_by_name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/email.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to:e.booked_by})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/phone.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:s?e.booked_to_phone:e.booked_by_phone})]}),(0,a.jsxs)("p",{className:"Upcoming"==e.status?i().status:i().resch,children:[(0,a.jsx)(n.default,{src:"/status.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.status})]})]}),(0,a.jsxs)("div",{className:i().dt_time,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/calender2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.date})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/clock2.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:f(e.time,e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:b(e.duration)})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/mode.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:e.mode})]})]})]}),(0,a.jsxs)("div",{className:i().sch_right,children:[(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{eH(e._id)},children:"View"}),(0,a.jsx)("button",{className:i().reschedulebtn,onClick:()=>{B(!0),G(e),eW()},children:"Reschedule"})]})]},e._id)})]})]})]}),q&&(0,a.jsx)("div",{className:u().cancelpopup,children:(0,a.jsxs)("div",{className:u().popup,children:[(0,a.jsx)("div",{className:u().close,children:(0,a.jsx)("button",{id:"close",children:(0,a.jsx)(n.default,{width:1e3,height:1e3,src:"/close.png",alt:"close",onClick:()=>{J(!1)}})})}),(0,a.jsxs)("div",{className:u().head,children:[(0,a.jsx)("h2",{children:"Confirm Cancellation"}),(0,a.jsxs)("p",{children:["ID: ",Y._id]})]}),(0,a.jsxs)("div",{className:u().detail,children:[(0,a.jsxs)("div",{className:u().nd,children:[(0,a.jsxs)("p",{style:{textTransform:"capitalize"},children:[(0,a.jsx)(n.default,{src:"/person.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Y.booked_by==E?Y.booked_to_name:Y.booked_by_name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/email.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Y.booked_by==E?Y.booked_to:Y.booked_by})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/phone.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Y.booked_by==E?Y.booked_to_phone:Y.booked_by_phone})]}),(0,a.jsxs)("p",{className:"Upcoming"==Y.status?i().status:i().resch,children:[(0,a.jsx)(n.default,{src:"/status.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Y.status})]})]}),(0,a.jsxs)("div",{className:u().dt,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/calender2.svg",width:100,height:100,alt:""}),Y.date]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/clock2.svg",width:100,height:100,alt:""}),f(Y.time,Y.duration)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),b(Y.duration)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/mode.png",width:100,height:100,alt:""}),Y.mode]})]})]}),(0,a.jsx)("div",{className:u().line,children:(0,a.jsx)("hr",{})}),(0,a.jsxs)("div",{className:u().res,children:[(0,a.jsx)("p",{children:"Reason"}),(0,a.jsx)("div",{className:u().inbox,children:(0,a.jsx)("textarea",{rows:"5",cols:"60 name=description",onChange:e=>{W(e.target.value)}})})]}),(0,a.jsxs)("div",{className:u().btn,children:[(0,a.jsx)("button",{className:u().conbtn,onClick:()=>{eE(Y)},children:"Conform"}),(0,a.jsx)("button",{className:u().canbtn,onClick:()=>{J(!1)},children:"Cancel"})]})]})}),Z&&(0,a.jsx)("div",{className:u().cancelpopup,children:(0,a.jsxs)("div",{className:u().popup,children:[(0,a.jsx)("div",{className:u().close,children:(0,a.jsx)("button",{id:"close",children:(0,a.jsx)(n.default,{width:1e3,height:1e3,src:"/close.png",alt:"close",onClick:()=>{V(!1)}})})}),(0,a.jsxs)("div",{className:u().head,children:[(0,a.jsx)("h2",{children:"Reject Meeting : "}),(0,a.jsxs)("p",{children:["ID: ",Y._id]})]}),(0,a.jsxs)("div",{className:u().detail,children:[(0,a.jsxs)("div",{className:u().nd,children:[(0,a.jsxs)("p",{style:{textTransform:"capitalize"},children:[(0,a.jsx)(n.default,{src:"/person.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Y.booked_by==E?Y.booked_to_name:Y.booked_by_name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/email.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Y.booked_by==E?Y.booked_to:Y.booked_by})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/phone.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Y.booked_by==E?Y.booked_to_phone:Y.booked_by_phone})]}),(0,a.jsxs)("p",{className:"Upcoming"==Y.status?i().status:i().resch,children:[(0,a.jsx)(n.default,{src:"/status.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Y.status})]})]}),(0,a.jsxs)("div",{className:u().dt,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/calender2.svg",width:100,height:100,alt:""}),Y.date]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/clock2.svg",width:100,height:100,alt:""}),f(Y.time,Y.duration)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),b(Y.duration)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/mode.png",width:100,height:100,alt:""}),Y.mode]})]})]}),(0,a.jsx)("div",{className:u().line,children:(0,a.jsx)("hr",{})}),(0,a.jsxs)("div",{className:u().res,children:[(0,a.jsx)("p",{children:"Reason"}),(0,a.jsx)("div",{className:u().inbox,children:(0,a.jsx)("textarea",{rows:"5",cols:"60 name=description",onChange:e=>{W(e.target.value)}})})]}),(0,a.jsxs)("div",{className:u().btn,children:[(0,a.jsx)("button",{className:u().conbtn,onClick:()=>{eE(Y)},children:"Confirm"}),(0,a.jsx)("button",{className:u().canbtn,onClick:()=>{V(!1)},children:"Cancel"})]})]})}),X&&(0,a.jsx)("div",{className:u().cancelpopup,children:(0,a.jsxs)("div",{className:u().popup,children:[(0,a.jsx)("div",{className:u().close,children:(0,a.jsx)("button",{id:"close",children:(0,a.jsx)(n.default,{width:1e3,height:1e3,src:"/close.png",alt:"close",onClick:()=>{B(!1)}})})}),(0,a.jsxs)("div",{className:u().head,children:[(0,a.jsx)("h2",{children:"Confirm Reschedule"}),(0,a.jsxs)("p",{children:["ID: ",Q._id]})]}),(0,a.jsxs)("div",{className:u().detail,children:[(0,a.jsxs)("div",{className:u().nd,children:[(0,a.jsxs)("p",{style:{textTransform:"capitalize"},children:[(0,a.jsx)(n.default,{src:"/person.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Q.booked_by==E?Q.booked_to_name:Q.booked_by_name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/email.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Q.booked_by==E?Q.booked_to:Q.booked_by})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/phone.svg",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Q.booked_by==E?Q.booked_to_phone:Q.booked_by_phone})]}),(0,a.jsxs)("p",{className:"Upcoming"==Q.status?i().status:i().resch,children:[(0,a.jsx)(n.default,{src:"/status.png",width:100,height:100,alt:""}),(0,a.jsx)("span",{children:Q.status})]})]}),(0,a.jsxs)("div",{className:u().dt,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/calender2.svg",width:100,height:100,alt:""}),Q.date]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/clock2.svg",width:100,height:100,alt:""}),f(Q.time,Q.duration)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/time-slot.svg",width:100,height:100,alt:""}),b(Q.duration)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(n.default,{src:"/mode.png",width:100,height:100,alt:""}),Q.mode]})]})]}),(0,a.jsx)("div",{className:u().line,children:(0,a.jsx)("hr",{})}),(0,a.jsxs)("div",{className:u().resD,children:[(0,a.jsx)(p(),{id:"datePicker",selected:eu,onChange:e=>{e_(e.toISOString().split("T")[0])},dateFormat:"yyyy-MM-dd",minDate:L,includeDates:ej,className:u().DatePicker}),(0,a.jsx)(p(),{id:"timePicker",selected:er,onChange:e=>{eh(e),eo(x(e).format("HH:mm"))},showTimeSelect:!0,showTimeSelectOnly:!0,includeTimes:ep,timeIntervals:15,timeCaption:"Time",timeFormat:"HH:mm",dateFormat:"HH:mm",className:u().DatePicker})]}),(0,a.jsxs)("div",{className:u().btn,children:[(0,a.jsx)("button",{className:u().conbtn,onClick:()=>{eY()},children:"Conform"}),(0,a.jsx)("button",{className:u().canbtn,onClick:()=>{B(!1)},children:"Cancel"})]})]})})]})})}},88963:function(e){e.exports={cancelpopup:"canpop_cancelpopup__8QCGZ",popup:"canpop_popup__Uui6g",close:"canpop_close__IjIH0",head:"canpop_head__qJ3tV",detail:"canpop_detail__cZa0h",nd:"canpop_nd__NmSoL",dt:"canpop_dt__hOALr",line:"canpop_line__rXxj7",res:"canpop_res__ix5O8",resD:"canpop_resD__3nwUo",inbox:"canpop_inbox__hVxWs",check:"canpop_check__WXhja",checkmark:"canpop_checkmark__46WY7",btn:"canpop_btn__d_8Nn",conbtn:"canpop_conbtn__S7P_x",canbtn:"canpop_canbtn__LL8Im",DatePicker:"canpop_DatePicker__2K_Ab",name:"canpop_name__RnYc9",time:"canpop_time__CphUQ",t:"canpop_t__OGWUY",date:"canpop_date__9Xlfx",d:"canpop_d__or4gB",ti:"canpop_ti__lq_XQ"}},76777:function(e){e.exports={main:"page_main__nw1Wk",tabview:"page_tabview__1JOYO",userline:"page_userline__BsS1x",mainsec:"page_mainsec__A65lz",sch:"page_sch__nvESJ",buttons:"page_buttons__sZgB7",active_button:"page_active_button___DNOi",line2:"page_line2__PeyND",boxes:"page_boxes__HxvhB",freeSlots:"page_freeSlots__fpHCN",feedback:"page_feedback__Uxk__",schedule:"page_schedule__p7cgZ",sch_up:"page_sch_up__Sks9G",dt_time:"page_dt_time__xWTyr",sch_right:"page_sch_right__fD1tq",imp:"page_imp__U7nYQ",status:"page_status__e5ASC",resch:"page_resch__DHr8p",pending_but:"page_pending_but__fPY2B",btns:"page_btns__njH_Z",cancelbtn:"page_cancelbtn__PQ_Dz",rejectbtn:"page_rejectbtn___7ztX",approvebtn:"page_approvebtn__cr9va",reschedulebtn:"page_reschedulebtn__Dt4Zu",selectdate:"page_selectdate__Y4Mb3",topdate:"page_topdate__QbC91",date:"page_date__cDwOk",meetshow:"page_meetshow__stsUP",meetingnum:"page_meetingnum__38qDq",meetingdateselect:"page_meetingdateselect__jWq3t",nonemeetingdateselect:"page_nonemeetingdateselect__tZ0NS",final_status:"page_final_status__tuqAD",finalbar:"page_finalbar__ujsDp",finalmeetnum:"page_finalmeetnum__WbSFV",finalnum:"page_finalnum__fhWNz",DatePicker:"page_DatePicker__Kq2F4",leftsec:"page_leftsec__k_3X2",line1:"page_line1__DWAG8",line3:"page_line3__m6VJU",line4:"page_line4___N24E",line5:"page_line5__tMeNR",rightsec:"page_rightsec__v_EeH",schedulestyle:"page_schedulestyle__7bicE",logo:"page_logo__ikIZE",navbar:"page_navbar__k3RMs",sch_left:"page_sch_left__ZUziK",user_name:"page_user_name__XrSAT",today_date:"page_today_date__MlWfX",user_meeting:"page_user_meeting__I6M1j"}}},function(e){e.O(0,[250,611,360,990,605,878,652,202,132,512,971,117,744],function(){return e(e.s=46292)}),_N_E=e.O()}]);